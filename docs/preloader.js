const e={loginForm:async function({oom:e,markupMap:a,buildMarkup:t}){const i=document.createElement("style");i.innerHTML="\n    login-form mwc-dialog { --mdc-dialog-min-width: 420px }\n    login-form .content { display: flex; flex-direction: column }\n    login-form .space { margin-bottom: 16px; }\n    login-form .space:last-child { margin-bottom: 0; }\n  ",e(document.head,i);class o extends(e.extends(HTMLElement)){static tagName="login-form";template=()=>{const a=window.localStorage.getItem("username")||"",t=window.localStorage.getItem("useremail")||"",i=e.mwcTextfield({class:"space",required:!0,label:"Your name (A-Z a-z)",validationmessage:"Can contain only latin characters, numbers and space",pattern:"[\\w ().]+",value:a}),o=e.mwcTextfield({class:"space",required:!1,label:"Your email",validationmessage:"Example: my@example.com",type:"email",value:t});return this.userName=i.dom,this.userEmail=o.dom,e.mwcDialog({heading:"Gallery entry",open:!0,scrimclickaction:""},e.div({class:"content"},this.userName,this.userEmail).mwcButton({onclick:()=>this.login(),dialogAction:"ok",slot:"primaryAction",outlined:!0,icon:"login",label:"Sign in"}))};login(){const e=this.userName.value,i=this.userEmail.value||"";i&&!this.userEmail.checkValidity()?this.userEmail.focus():e&&this.userName.checkValidity()?(window.localStorage.setItem("username",e),window.localStorage.setItem("useremail",i),t(a.scene)):this.userName.focus()}}e.define(o),e(window.document.body,new o)}};(async()=>{if(!1===window["@notml/core:compatibility"])return!1;const{oom:a}=await import("https://cdn.jsdelivr.net/npm/notml@0.1.0-pre.17/core.js"),t=e=>{(async()=>{await e(i)})().catch((e=>{e=e.stack?`${e.message}\n\n${e.stack}`:e,console.error(e),alert(e)}))},i={markupMap:e,buildMarkup:t,oom:a};t(e.loginForm)})();
