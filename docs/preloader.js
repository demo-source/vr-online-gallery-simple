const e={loginForm:async function({oom:e,markupMap:a,buildMarkup:o}){const t=document.createElement("style");t.innerHTML="\n    login-form mwc-dialog { --mdc-dialog-min-width: 420px }\n    login-form .content { display: flex; flex-direction: column }\n    login-form .space { margin-bottom: 16px; }\n    login-form .space:last-child { margin-bottom: 0; }\n  ",e(document.head,t);class i extends(e.extends(HTMLElement)){static tagName="login-form";template=()=>{const a=window.localStorage.getItem("username")||"",o=window.localStorage.getItem("useremail")||"",t=e.mwcTextfield({class:"space",required:!0,label:"Your name (A-Z a-z)",validationmessage:"Your name can contain only latin characters, numbers and space",pattern:"[\\w ().]+",value:a}),i=e.mwcTextfield({class:"space",required:!1,label:"Your email",validationmessage:"Example: my@example.com",type:"email",value:o});return this.userName=t.dom,this.userEmail=i.dom,e.mwcDialog({heading:"Gallery entry",open:!0,scrimclickaction:""},e.div({class:"content"},this.userName,this.userEmail).mwcButton({onclick:()=>this.login(),dialogAction:"ok",slot:"primaryAction",outlined:!0,icon:"login",label:"Вход"}))};login(){const e=this.userName.value,t=this.userEmail.value||"";t&&!this.userEmail.checkValidity()?this.userEmail.focus():e&&this.userName.checkValidity()?(window.localStorage.setItem("username",e),window.localStorage.setItem("useremail",t),o(a.scene)):this.userName.focus()}}e.define(i),e(window.document.body,new i)}};(async()=>{if(!1===window["@notml/core:compatibility"])return!1;const{oom:a}=await import("https://cdn.jsdelivr.net/npm/notml@0.1.0-pre.17/core.js"),o=e=>{(async()=>{await e(t)})().catch((e=>{e=e.stack?`${e.message}\n\n${e.stack}`:e,console.error(e),alert(e)}))},t={markupMap:e,buildMarkup:o,oom:a};o(e.loginForm)})();
